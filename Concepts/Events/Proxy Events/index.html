<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="author" content="RactiveJS contributors"> 
    <link rel="canonical" href="https://ractive.js.org/Concepts/Events/Proxy Events/"> 
    <link rel="shortcut icon" href="../../../img/favicon.ico">

    <title>Proxy Events - Ractive.js</title>

    <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../../css/base.css" rel="stylesheet">
    <link href="../../../css/cinder.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">


    <link href="../../../css/index.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">Ractive.js</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Started <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../..">Introduction</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Examples</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Get Started/Examples/Analog Clock/">Analog Clock</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Animated Chart/">Animated Chart</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Comments/">Comments</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Donut Chart/">Donut Chart</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Illustration/">Illustration</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Rating Stars/">Rating Stars</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Todo List/">Todo List</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../../../Get Started/Debugging/">Debugging</a>
</li>

                        
                            
<li >
    <a href="../../../Get Started/Support/">Support</a>
</li>

                        
                            
<li >
    <a href="../../../Get Started/Contributing/">Contributing</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">API <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../API/Initialization Options/">Initialization Options</a>
</li>

                        
                            
<li >
    <a href="../../../API/Static Properties/">Static Properties</a>
</li>

                        
                            
<li >
    <a href="../../../API/Static Methods/">Static Methods</a>
</li>

                        
                            
<li >
    <a href="../../../API/Instance Properties/">Instance Properties</a>
</li>

                        
                            
<li >
    <a href="../../../API/Instance Methods/">Instance Methods</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Helper Objects</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../API/Helper Objects/Node Info/">Node Info</a>
</li>

        
            
<li >
    <a href="../../../API/Helper Objects/Parse/">Parse</a>
</li>

        
            
<li >
    <a href="../../../API/Helper Objects/Transition/">Transition</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../../../API/Errors/">Errors</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Integrations <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../Integrations/Plugins/">Plugins</a>
</li>

                        
                            
<li >
    <a href="../../../Integrations/Tools/">Tools</a>
</li>

                        
                            
<li >
    <a href="../../../Integrations/Libraries/">Libraries</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Extend <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../Extend/Adaptors/">Adaptors</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Components/">Components</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Decorators/">Decorators</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Easings/">Easings</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Events/">Events</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Interpolators/">Interpolators</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Partials/">Partials</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Transitions/">Transitions</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Concepts <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Architecture</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Architecture/Overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../Architecture/Parser/">Parser</a>
</li>

        
            
<li >
    <a href="../../Architecture/Model/">Model</a>
</li>

        
            
<li >
    <a href="../../Architecture/View/">View</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Data Binding</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Data Binding/Array Modification/">Array Modification</a>
</li>

        
            
<li >
    <a href="../../Data Binding/Computed Properties/">Computed Properties</a>
</li>

        
            
<li >
    <a href="../../Data Binding/Dependents/">Dependents</a>
</li>

        
            
<li >
    <a href="../../Data Binding/Magic Mode/">Magic Mode</a>
</li>

        
            
<li >
    <a href="../../Data Binding/Observers/">Observers</a>
</li>

        
            
<li >
    <a href="../../Data Binding/Parallel DOM/">Parallel DOM</a>
</li>

        
            
<li >
    <a href="../../Data Binding/Two-Way Binding/">Two-Way Binding</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Events</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../Overview/">Overview</a>
</li>

        
            
<li >
    <a href="../Bubbling/">Bubbling</a>
</li>

        
            
<li >
    <a href="../Directives/">Directives</a>
</li>

        
            
<li >
    <a href="../Method Calls/">Method Calls</a>
</li>

        
            
<li class="active">
    <a href="./">Proxy Events</a>
</li>

        
            
<li >
    <a href="../Publish-Subscribe/">Publish-Subscribe</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Rendering</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Rendering/Progressive Enhancement/">Progressive Enhancement</a>
</li>

        
            
<li >
    <a href="../../Rendering/Server-Side Rendering/">Server-Side Rendering</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Security</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Security/CSP/">CSP</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Templates</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Templates/Overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../Templates/Elements/">Elements</a>
</li>

        
            
<li >
    <a href="../../Templates/Expressions/">Expressions</a>
</li>

        
            
<li >
    <a href="../../Templates/Keypaths/">Keypaths</a>
</li>

        
            
<li >
    <a href="../../Templates/Mustaches/">Mustaches</a>
</li>

        
            
<li >
    <a href="../../Templates/Parsing/">Parsing</a>
</li>

        
            
<li >
    <a href="../../Templates/Pre-Parsing/">Pre-Parsing</a>
</li>

        
            
<li >
    <a href="../../Templates/References/">References</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../Method Calls/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../Publish-Subscribe/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/ractivejs/ractive">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="first-level active"><a href="#event-arguments">Event arguments</a></li>
        
            <li class="second-level"><a href="#the-event-object">The event object</a></li>
            
        
            <li class="second-level"><a href="#custom-arguments">Custom arguments</a></li>
            
        
            <li class="second-level"><a href="#cancelling-dom-events">Cancelling DOM events</a></li>
            
        
    
        <li class="first-level "><a href="#reserved-event-names">Reserved event names</a></li>
        
    
        <li class="first-level "><a href="#dynamic-proxy-event-names">Dynamic proxy event names</a></li>
        
    
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<p><em>See also: <a href="../Method Calls/">method calls from templates</a></em></p>
<p>Ractive has a concept of <em>proxy events</em>, which translate a user <em>action</em> (e.g. a mouseclick) defined via an <a href="../Directives/">event directive</a> into an <em>intention</em> (e.g. 'select this option'). This allows you to handle user interaction in a readable, declarative fashion, without resorting to peppering your markup with class names to use as 'hooks' (which must then be kept consistent between your markup and your JavaScript code).</p>
<p>As with all events in Ractive, you subscribe with <a href="../../../API/Instance Properties#ractive.on()"><code>ractive.on()</code></a> (also see <a href="../Publish-Subscribe/">publish-subscribe</a>). Proxy events declare the handler name of the event that will be fired, along with any optional arguments:</p>
<pre><code class="js">ractive = new Ractive({
  el: 'body',
  template: '&lt;button on-click=&quot;activate&quot;&gt;click me!&lt;/button&gt;'
});

ractive.on( 'activate', function ( event ) {
  alert( 'Activating!' );
});
</code></pre>

<p>In this example, it is <code>activate</code> (and not <code>click</code>!) that is the name of the handler event that will be fired for any registered handlers created via <a href="../../../API/Instance Properties#ractive.on()"><code>ractive.on()</code></a>.</p>
<h1 id="event-arguments">Event arguments</h1>
<h2 id="the-event-object">The <code>event</code> object</h2>
<p>The first argument to a proxy event handler is always a Ractive <code>event</code> object. It contains various properties:</p>
<ul>
<li><code>event.name</code> - the name of the event, in this case 'activate'</li>
<li><code>event.node</code> - the DOM node in question</li>
<li><code>event.keypath</code> - the <a href="../../Templates/Keypaths/">keypath</a> of the current context</li>
<li><code>event.context</code> - the value of <code>this.get(event.keypath)</code></li>
<li><code>event.index</code> - a map of index references</li>
<li><code>event.component</code> - the component that raised the event, only present on <a href="../Bubbling">bubbled events</a></li>
<li><code>event.original</code> - the original DOM event, if available</li>
</ul>
<p>In the example above, <code>event.keypath</code> might be <code>items.0</code> for the first item in the list, <code>items.1</code> for the second, and so on. The <code>event.index</code> map would have a property <code>i</code>, which would correspond to those indices.</p>
<p>The event object is also available in event handlers using <code>this.event</code>, see <a href="../Publish-Subscribe/">publish-subscribe</a> for more details.</p>
<h2 id="custom-arguments">Custom arguments</h2>
<p><strong>NOTE:</strong> Arguments to proxy events have been deprecated because they are too easy to break. If you need to pass arguments with your event, you can use <code>@this.fire('myEvent', event, arg1, arg2, etc)</code>.</p>
<p>We might want to pass arguments to our handler in addition to the <code>event</code> object. We can do that by listing them, comma-separated, after the event name:</p>
<pre><code class="html">&lt;h1&gt;Let's shop!&lt;/h1&gt;
&lt;ul&gt;
  {{#each items: i}}
    &lt;li&gt;
      &lt;p&gt;{{i+1}}: {{description}}&lt;/p&gt;
      &lt;label&gt;&lt;input value='{{qty}}'&gt; Quantity&lt;/label&gt;

      &lt;!-- when the user clicks this button, add {{qty}} of this item --&gt;
      &lt;button on-click='addToCart:{{this}},{{qty}}'&gt;Add to cart&lt;/button&gt;
    &lt;/li&gt;
  {{/each}}
&lt;/ul&gt;
</code></pre>

<pre><code class="js">ractive.on( 'addToCart', function ( event, item, qty ) {
  /* code goes here */
});
</code></pre>

<h2 id="cancelling-dom-events">Cancelling DOM events</h2>
<p>If you return <code>false</code> from a proxy event handler, ractive will automatically call both <code>preventDefault()</code> and <code>stopPropagation()</code> on the original DOM event.</p>
<p>Note that returning <code>false</code> has a dual purpose of both cancelling further bubbling up the view hierarchy <a href="../Bubbling/">event bubbling</a> <strong>as well as</strong> cancelling the DOM Event if the event was DOM-based.</p>
<p>If you only want to cancel the DOM event, you can call the appropriate methods directly on <code>event.original</code> or <code>this.event.original</code>, which are both references to the current DOM event object.</p>
<h1 id="reserved-event-names">Reserved event names</h1>
<p>Note: the built-in <a href="">lifecycle events</a> are <strong>reserved</strong>, which means you can't use their names as proxy events.</p>
<h1 id="dynamic-proxy-event-names">Dynamic proxy event names</h1>
<p><a href="../../Templates/Mustaches">Mustache references</a> can be used as proxy event names:</p>
<pre><code class="html">&lt;button on-click=&quot;{{handler}}&quot;&gt;click me!&lt;/button&gt;
</code></pre>

<p>In practive this is of limited value, but a more important side effect is that if no handler is specified (a falsey value) the DOM event is not subscribed and will unsubscribe or resubscribe as the handler value changes. Combined with a conditional section, this allows a proxy event to be conditionally subscribed <em>at the DOM level</em>:</p>
<pre><code class="html">&lt;button on-click=&quot;{{#active}}select{{/}}&quot;&gt;click me!&lt;/button&gt;
</code></pre>

<p>In this example, the DOM <code>click</code> event is subscribed and unsubscribed as the value of <code>active</code> is truthy or falsey.</p></div>
        
    </div>

    <footer class="col-md-12 text-center">
        <hr>
        <p>
        <small>Â© RactiveJS contributors. Ractive.js is a free and open source project released under the MIT license.<br></small>
        
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>
    </footer>

    <script src="../../../js/jquery-1.10.2.min.js"></script>
    <script src="../../../js/bootstrap-3.0.3.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '../../..';
    </script>
    <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
    <script src="../../../js/base.js"></script>
    <script src="../../../playground/index.js"></script>
    <script src="../../../playground/lib/Sheet.js"></script>
    <script src="../../../playground/lib/Tabs.js"></script>
    <script src="../../../playground/lib/ace.min.js"></script>
    <script src="../../../playground/lib/keybinding-vim.js"></script>
    <script src="../../../playground/lib/lz-string.min.js"></script>
    <script src="../../../playground/lib/mode-css.js"></script>
    <script src="../../../playground/lib/mode-handlebars.js"></script>
    <script src="../../../playground/lib/mode-javascript.js"></script>
    <script src="../../../playground/lib/ractive.min.js"></script>
    <script src="../../../playground/lib/theme-chrome.js"></script>
    <script src="../../../playground/lib/theme-github.js"></script>
    <script src="../../../playground/lib/theme-monokai.js"></script>
    <script src="../../../playground/lib/theme-solarized_dark.js"></script>
    <script src="../../../playground/lib/theme-solarized_light.js"></script>
    <script src="../../../playground/lib/theme-terminal.js"></script>
    <script src="../../../playground/lib/theme-xcode.js"></script>
    <script src="../../../playground/lib/worker-css.js"></script>
    <script src="../../../playground/lib/worker-javascript.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    </body>

</html>
